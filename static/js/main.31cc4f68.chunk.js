(this["webpackJsonptower-defense-route-gen"]=this["webpackJsonptower-defense-route-gen"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),i=n(13),o=n.n(i),l=(n(20),n(4)),c=n(5),u=n(7),h=n(6),f=n(2),E="The Traveling Gnome",b=["Direct","Drunkard","The Traveling Gnome"],g=["Make Impassable","Force Entrance","Force Exit"],d=n(3),v=function(){function e(){Object(l.a)(this,e),this.subscribers=new Set,this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.fire=this.fire.bind(this)}return Object(c.a)(e,[{key:"subscribe",value:function(e){this.subscribers.add(e)}},{key:"unsubscribe",value:function(e){this.subscribers.delete(e)}},{key:"fire",value:function(e){var t,n=Object(d.a)(this.subscribers);try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(a){n.e(a)}finally{n.f()}}}]),e}(),O=function e(){Object(l.a)(this,e)};O.COLUMNS_SLIDER_VALUE_CHANGE=new v,O.ROWS_SLIDER_VALUE_CHANGE=new v,O.SHOW_LABELS_CHECKBOX_CHANGE=new v,O.ANIMATE_ROUTES_CHECKBOX_CHANGE=new v,O.GENERATOR_STATUS_INFO=new v,O.GENERATOR_ALGORITHM_SELECT=new v,O.PAINT_MODE_SELECT=new v,O.GENERATE_BUTTON=new v,O.CLEAR_ROUTES_BUTTON=new v,O.RESET_GRID_BUTTON=new v,O.DOWNLOAD_GRID_BUTTON=new v;var p=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={value:a.props.startValue},a.updateValue=a.updateValue.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.updateEvent.subscribe(this.updateValue)}},{key:"componentWillUnmount",value:function(){this.props.updateEvent.unsubscribe(this.updateValue)}},{key:"updateValue",value:function(e){this.setState({value:e})}},{key:"render",value:function(){return Object(a.jsx)("p",{children:this.state.value})}}]),n}(s.a.Component),N=(n(21),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("button",{className:"button",onMouseUp:function(){return e.props.onPressEvent.fire()},children:this.props.label})}}]),n}(s.a.Component)),j=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={checked:a.props.checked?1:0},a.onInput=a.onInput.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"onInput",value:function(){var e=1-this.state.checked;this.setState({checked:e}),this.props.onChangeEvent(1===e)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",id:this.props.label,name:this.props.label,value:this.state.checked,onInput:this.onInput}),Object(a.jsx)("label",{children:this.props.label})]})}}]),n}(s.a.Component),m=(n(22),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={selected:a.props.placeholder},a.makeOptions=a.makeOptions.bind(Object(f.a)(a)),a.onSelect=a.onSelect.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"makeOptions",value:function(){var e,t=this,n=[],r=Object(d.a)(this.props.options);try{var s=function(){var r=e.value;n.push(Object(a.jsx)("nav",{onClick:function(){return t.onSelect(r)},children:r},r))};for(r.s();!(e=r.n()).done;)s()}catch(i){r.e(i)}finally{r.f()}return n}},{key:"onSelect",value:function(e){this.props.onSelect(e),this.setState({selected:e})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"dropdown",children:[Object(a.jsx)("button",{className:"dropbtn",children:this.state.selected+"  \u25bc"}),Object(a.jsx)("div",{className:"dropdown-content",children:this.makeOptions()})]})}}]),n}(s.a.Component)),S={numEntrances:1,numExits:1,randomness:0},y={numEntrances:1,numExits:1},W={numEntrances:1,numExits:1,wandering:.5},w=(n(23),1e9),I=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).integerStepSize=void 0,a.integerMaxValue=void 0,a.integerMinValue=void 0,a.integerStepSize=w*(e.step?e.step:1),a.integerMinValue=w*e.min,a.integerMaxValue=w*e.max;var r=w*(e.startingValue?e.startingValue:e.min);return a.state={value:r},a.onInput=a.onInput.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"onInput",value:function(e){var t=parseInt(e.target.value);t!==this.state.value&&(this.setState({value:t}),this.props.onChangeEvent(t/w))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"slider-container",children:[Object(a.jsx)("label",{children:this.props.label}),Object(a.jsx)("input",{style:{marginLeft:"1em"},type:"range",id:this.props.label,name:this.props.label,min:this.integerMinValue,max:this.integerMaxValue,value:this.state.value,onInput:this.onInput,step:this.integerStepSize}),Object(a.jsx)("label",{style:{marginLeft:"1em"},children:this.state.value/w})]})}}]),n}(s.a.Component),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).config=Object.assign({},S),a.updateNumEntrances=a.updateNumEntrances.bind(Object(f.a)(a)),a.updateNumExits=a.updateNumExits.bind(Object(f.a)(a)),a.updateRandomness=a.updateRandomness.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"updateNumEntrances",value:function(e){this.config.numEntrances=e}},{key:"updateNumExits",value:function(e){this.config.numExits=e}},{key:"updateRandomness",value:function(e){this.config.randomness=e}},{key:"getConfig",value:function(){return this.config}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(I,{label:"Number of Entrances",min:1,startingValue:1,max:20,onChangeEvent:this.updateNumEntrances}),Object(a.jsx)(I,{label:"Number of Exits",min:1,startingValue:1,max:20,onChangeEvent:this.updateNumExits}),Object(a.jsx)(I,{label:"Randomness",min:0,startingValue:0,max:1,step:.01,onChangeEvent:this.updateRandomness})]})}}]),n}(s.a.Component);x.ref=s.a.createRef();var k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).config=Object.assign({},y),a.updateNumEntrances=a.updateNumEntrances.bind(Object(f.a)(a)),a.updateNumExits=a.updateNumExits.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"updateNumEntrances",value:function(e){this.config.numEntrances=e}},{key:"updateNumExits",value:function(e){this.config.numExits=e}},{key:"getConfig",value:function(){return this.config}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(I,{label:"Number of Entrances",min:1,startingValue:1,max:20,onChangeEvent:this.updateNumEntrances}),Object(a.jsx)(I,{label:"Number of Exits",min:1,startingValue:1,max:20,onChangeEvent:this.updateNumExits})]})}}]),n}(s.a.Component);k.ref=s.a.createRef();n(24);var _=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).config=Object.assign({},W),a.updateNumEntrances=a.updateNumEntrances.bind(Object(f.a)(a)),a.updateNumExits=a.updateNumExits.bind(Object(f.a)(a)),a.updateWandering=a.updateWandering.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"updateNumEntrances",value:function(e){this.config.numEntrances=e}},{key:"updateNumExits",value:function(e){this.config.numExits=e}},{key:"updateWandering",value:function(e){this.config.wandering=e}},{key:"getConfig",value:function(){return this.config}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(I,{label:"Number of Entrances",min:1,startingValue:W.numEntrances,max:20,onChangeEvent:this.updateNumEntrances}),Object(a.jsx)(I,{label:"Number of Exits",min:1,startingValue:W.numExits,max:20,onChangeEvent:this.updateNumExits}),Object(a.jsx)(I,{label:"Wandering",min:0,startingValue:W.wandering,max:1,step:.01,onChangeEvent:this.updateWandering})]})}}]),n}(s.a.Component);_.ref=s.a.createRef();var C,R=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={algorithm:E},a.getAlgorithmControls=a.getAlgorithmControls.bind(Object(f.a)(a)),a.updateSelectedAlgorithm=a.updateSelectedAlgorithm.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){O.GENERATOR_ALGORITHM_SELECT.subscribe(this.updateSelectedAlgorithm)}},{key:"componentWillUnmount",value:function(){O.GENERATOR_ALGORITHM_SELECT.unsubscribe(this.updateSelectedAlgorithm)}},{key:"updateSelectedAlgorithm",value:function(e){this.setState({algorithm:e})}},{key:"getAlgorithmControls",value:function(){switch(this.state.algorithm){case"Direct":return Object(a.jsx)(x,{ref:x.ref});case"Drunkard":return Object(a.jsx)(k,{ref:k.ref});case"The Traveling Gnome":return Object(a.jsx)(_,{ref:_.ref})}}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"controls-outer",children:[Object(a.jsxs)("div",{className:"controls-inner",children:[Object(a.jsxs)("div",{className:"control",children:[Object(a.jsx)(I,{label:"columns",min:2,max:100,startingValue:35,onChangeEvent:O.COLUMNS_SLIDER_VALUE_CHANGE.fire}),Object(a.jsx)(I,{label:"rows",min:2,max:100,startingValue:8,onChangeEvent:O.ROWS_SLIDER_VALUE_CHANGE.fire})]}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(m,{placeholder:"Select Paint Mode",options:g,onSelect:O.PAINT_MODE_SELECT.fire})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(N,{label:"Generate Routes",onPressEvent:O.GENERATE_BUTTON})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(N,{label:"Clear Routes",onPressEvent:O.CLEAR_ROUTES_BUTTON})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(N,{label:"Reset Grid",onPressEvent:O.RESET_GRID_BUTTON})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(j,{label:"Labels?",onChangeEvent:O.SHOW_LABELS_CHECKBOX_CHANGE.fire})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(j,{label:"Animate Routes?",onChangeEvent:O.ANIMATE_ROUTES_CHECKBOX_CHANGE.fire})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(N,{label:"Download Grid",onPressEvent:O.DOWNLOAD_GRID_BUTTON})})]}),Object(a.jsxs)("div",{className:"controls-inner controls-algorithm",children:[Object(a.jsx)("label",{style:{paddingBottom:"0.5em"},children:"Algorithm Controls"}),Object(a.jsx)(m,{placeholder:E,options:b,onSelect:O.GENERATOR_ALGORITHM_SELECT.fire}),Object(a.jsx)(p,{startValue:"",updateEvent:O.GENERATOR_STATUS_INFO}),this.getAlgorithmControls()]})]})}}]),n}(s.a.Component);!function(e){e[e.NONE=0]="NONE",e[e.ENTRANCE=1]="ENTRANCE",e[e.EXIT=2]="EXIT",e[e.NOT_TRAVERSABLE=3]="NOT_TRAVERSABLE"}(C||(C={}));var T=n(8);function A(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),a=e[--t];e[t]=e[n],e[n]=a}}function M(e){var t=Object(T.a)(e);return A(t),t}function L(e,t){return void 0===e?t:e}function D(e,t,n){var a,r,s=e.getEntrances(),i=e.getExits();if(0===s.length&&0===i.length?(a=t,r=n):0===s.length?(a=t,r=0):0===i.length?(a=0,r=n):(a=0,r=0),a+r>0){var o=e.getBoundaryCells();A(o);for(var l=0;l<o.length;l++)if(o[l].isTraversable())if(s.length<a)s.push(o[l]);else{if(!(i.length<r))break;i.push(o[l])}}if(s.length<a||i.length<r)throw new Error("Not enough boundary cells for entrances and exits.");for(var c=Math.max(s.length,i.length),u=[],h=[],f=[],E=0;E<c;E++)0===u.length&&A(u=Object(T.a)(i)),0===h.length&&A(h=Object(T.a)(s)),f.push([h.shift(),u.shift()]);return f}var B,X=1e3;function P(e,t){var n=void 0===t?S:t,a=L(n.numEntrances,S.numEntrances),r=L(n.numExits,S.numExits),s=L(n.randomness,S.randomness);if(s<0||s>1)throw new Error("Randomness must be between 0 and 1, but it was "+s);var i,o=D(e,a,r),l=function(e,t){var n,a=e.getCells(),r=new Map,s=e.getRowCount(),i=s/2,o=Object(d.a)(a.keys());try{for(o.s();!(n=o.n()).done;){var l=n.value;r.set(l,new Map);var c,u=e.getColumnCount(l),h=u/2,f=Object(d.a)(a.get(l).keys());try{for(f.s();!(c=f.n()).done;){var E=c.value,b=Math.min(l,s-1-l)/i,g=Math.min(E,u-1-E)/h,v=500*(1-Math.min(b,g)),O=Math.max(v,0);r.get(l).set(E,O)}}catch($){f.e($)}finally{f.f()}}}catch($){o.e($)}finally{o.f()}var p,N=[],j=Object(d.a)(a.keys());try{for(j.s();!(p=j.n()).done;){var m,S=p.value,y=Object(d.a)(a.get(S).keys());try{for(y.s();!(m=y.n()).done;){var W=m.value;if(Math.random()<.25){var w=Math.random()*X,I=.15*Math.random()*a.get(S).size;N.push({iY:S,iX:W,cost:w,halfWidth:I})}}}catch($){y.e($)}finally{y.f()}}}catch($){j.e($)}finally{j.f()}var x,k=0,_=Object(d.a)(a.keys());try{for(_.s();!(x=_.n()).done;){var C,R=x.value,T=Object(d.a)(a.get(R).keys());try{for(T.s();!(C=T.n()).done;){var A,M=C.value,L=r.get(R).get(M),D=Object(d.a)(N);try{for(D.s();!(A=D.n()).done;){var B=A.value,P=M-B.iX,U=R-B.iY,G=Math.sqrt(P*P+U*U),Y=void 0;if(G>B.halfWidth)Y=0;else{var V=Math.PI/B.halfWidth;Y=Math.max(0,.5*(Math.cos(G*V)+B.cost))}L+=Y}}catch($){D.e($)}finally{D.f()}L+=.4*L*(2*Math.random()-1),r.get(R).set(M,L),L>k&&(k=L)}}catch($){T.e($)}finally{T.f()}}}catch($){_.e($)}finally{_.f()}var H,F=1-t,z=Object(d.a)(r.keys());try{for(z.s();!(H=z.n()).done;){var K,q=H.value,J=Object(d.a)(r.get(q).keys());try{for(J.s();!(K=J.n()).done;){var Z=K.value,Q=t*(r.get(q).get(Z)/k)+F;r.get(q).set(Z,Q)}}catch($){J.e($)}finally{J.f()}}}catch($){z.e($)}finally{z.f()}return r}(e,s),c=[],u=Object(d.a)(o);try{for(u.s();!(i=u.n()).done;){var h=i.value,f=h[0],E=h[1];try{c.push(U(e,l,f,E))}catch(b){return alert(b),[]}}}catch(g){u.e(g)}finally{u.f()}return c}function U(e,t,n,a){var r,s=e.getCells(),i=new Map,o=new Map,l=new Set,c=Object(d.a)(s.keys());try{for(c.s();!(r=c.n()).done;){var u=r.value;i.set(u,new Map),o.set(u,new Map);var h,f=Object(d.a)(s.get(u).keys());try{for(f.s();!(h=f.n()).done;){var E=h.value,b=Number.POSITIVE_INFINITY;u===n.getIY()&&E===n.getIX()&&(b=0),i.get(u).set(E,b),l.add(s.get(u).get(E))}}catch(R){f.e(R)}finally{f.f()}}}catch(R){c.e(R)}finally{c.f()}for(var g=new Set([n]),v=0;g.size>0;){var p=G(i,g);if(null===p)throw new Error("No path between ".concat(n," and ").concat(a));if(p.cospatial(a))break;l.delete(p),g.delete(p);var N,j=p.getIY(),m=p.getIX(),S=i.get(j).get(m),y=Object(d.a)(e.getNeighbors(p));try{for(y.s();!(N=y.n()).done;){var W=N.value;if(W.isTraversable()&&l.has(W)){var w=W.getIY(),I=W.getIX(),x=i.get(w).get(I),k=S+t.get(w).get(I);k<x&&(i.get(w).set(I,k),g.add(W),o.get(w).set(I,p))}}}catch(R){y.e(R)}finally{y.f()}O.GENERATOR_STATUS_INFO.fire("Direct iteration: ".concat(v++))}for(var _=[a],C=a;!C.cospatial(n);){if(null===(C=o.get(C.getIY()).get(C.getIX()))||void 0===C)throw new Error("No path between ".concat(n," and ").concat(a));_.push(C)}return _.reverse(),_}function G(e,t){var n,a=Number.POSITIVE_INFINITY,r=null,s=Object(d.a)(t);try{for(s.s();!(n=s.n()).done;){var i=n.value,o=e.get(i.getIY()).get(i.getIX());o<a&&(r=i,a=o)}}catch(l){s.e(l)}finally{s.f()}return r}!function(e){e[e.E2E=0]="E2E",e[e.E2NE=1]="E2NE",e[e.E2NW=2]="E2NW",e[e.E2W=3]="E2W",e[e.E2SW=4]="E2SW",e[e.E2SE=5]="E2SE",e[e.E_IN=6]="E_IN",e[e.E_OUT=7]="E_OUT",e[e.NE2E=8]="NE2E",e[e.NE2NE=9]="NE2NE",e[e.NE2NW=10]="NE2NW",e[e.NE2W=11]="NE2W",e[e.NE2SW=12]="NE2SW",e[e.NE2SE=13]="NE2SE",e[e.NE_IN=14]="NE_IN",e[e.NE_OUT=15]="NE_OUT",e[e.NW2E=16]="NW2E",e[e.NW2NE=17]="NW2NE",e[e.NW2NW=18]="NW2NW",e[e.NW2W=19]="NW2W",e[e.NW2SW=20]="NW2SW",e[e.NW2SE=21]="NW2SE",e[e.NW_IN=22]="NW_IN",e[e.NW_OUT=23]="NW_OUT",e[e.W2E=24]="W2E",e[e.W2NE=25]="W2NE",e[e.W2NW=26]="W2NW",e[e.W2W=27]="W2W",e[e.W2SW=28]="W2SW",e[e.W2SE=29]="W2SE",e[e.W_IN=30]="W_IN",e[e.W_OUT=31]="W_OUT",e[e.SW2E=32]="SW2E",e[e.SW2NE=33]="SW2NE",e[e.SW2NW=34]="SW2NW",e[e.SW2W=35]="SW2W",e[e.SW2SW=36]="SW2SW",e[e.SW2SE=37]="SW2SE",e[e.SW_IN=38]="SW_IN",e[e.SW_OUT=39]="SW_OUT",e[e.SE2E=40]="SE2E",e[e.SE2NE=41]="SE2NE",e[e.SE2NW=42]="SE2NW",e[e.SE2W=43]="SE2W",e[e.SE2SW=44]="SE2SW",e[e.SE2SE=45]="SE2SE",e[e.SE_IN=46]="SE_IN",e[e.SE_OUT=47]="SE_OUT"}(B||(B={}));var Y;B.E2E,B.E2NE,B.E2NW,B.E2W,B.E2SW,B.E2SE,B.E_IN,B.E_OUT,B.NE2E,B.NE2NE,B.NE2NW,B.NE2W,B.NE2SW,B.NE2SE,B.NE_IN,B.NE_OUT,B.NW2E,B.NW2NE,B.NW2NW,B.NW2W,B.NW2SW,B.NW2SE,B.NW_IN,B.NW_OUT,B.W2E,B.W2NE,B.W2NW,B.W2W,B.W2SW,B.W2SE,B.W_IN,B.W_OUT,B.SW2E,B.SW2NE,B.SW2NW,B.SW2W,B.SW2SW,B.SW2SE,B.SW_IN,B.SW_OUT,B.SE2E,B.SE2NE,B.SE2NW,B.SE2W,B.SE2SW,B.SE2SE,B.SE_IN,B.SE_OUT;!function(e){e[e.E=0]="E",e[e.NE=1]="NE",e[e.NW=2]="NW",e[e.W=3]="W",e[e.SW=4]="SW",e[e.SE=5]="SE"}(Y||(Y={}));var V=[Y.E,Y.NE,Y.NW,Y.W,Y.SW,Y.SE],H=new Map;function F(e,t){var n,a=null,r=M(V),s=Object(d.a)(r);try{for(s.s();!(n=s.n()).done;){var i=n.value;if(null!==a)break;null===(a=e.getNeighborTowardDirection(t,i))||a.isTraversable()||(a=null)}}catch(o){s.e(o)}finally{s.f()}return a}H.set(Y.E,new Map),H.get(Y.E).set(Y.E,B.E2E),H.get(Y.E).set(Y.NE,B.E2NE),H.get(Y.E).set(Y.NW,B.E2NW),H.get(Y.E).set(Y.W,B.E2W),H.get(Y.E).set(Y.SW,B.E2SW),H.get(Y.E).set(Y.SE,B.E2SE),H.set(Y.NE,new Map),H.get(Y.NE).set(Y.E,B.NE2E),H.get(Y.NE).set(Y.NE,B.NE2NE),H.get(Y.NE).set(Y.NW,B.NE2NW),H.get(Y.NE).set(Y.W,B.NE2W),H.get(Y.NE).set(Y.SW,B.NE2SW),H.get(Y.NE).set(Y.SE,B.NE2SE),H.set(Y.NW,new Map),H.get(Y.NW).set(Y.E,B.NW2E),H.get(Y.NW).set(Y.NE,B.NW2NE),H.get(Y.NW).set(Y.NW,B.NW2NW),H.get(Y.NW).set(Y.W,B.NW2W),H.get(Y.NW).set(Y.SW,B.NW2SW),H.get(Y.NW).set(Y.SE,B.NW2SE),H.set(Y.W,new Map),H.get(Y.W).set(Y.E,B.W2E),H.get(Y.W).set(Y.NE,B.W2NE),H.get(Y.W).set(Y.NW,B.W2NW),H.get(Y.W).set(Y.W,B.W2W),H.get(Y.W).set(Y.SW,B.W2SW),H.get(Y.W).set(Y.SE,B.W2SE),H.set(Y.SW,new Map),H.get(Y.SW).set(Y.E,B.SW2E),H.get(Y.SW).set(Y.NE,B.SW2NE),H.get(Y.SW).set(Y.NW,B.SW2NW),H.get(Y.SW).set(Y.W,B.SW2W),H.get(Y.SW).set(Y.SW,B.SW2SW),H.get(Y.SW).set(Y.SE,B.SW2SE),H.set(Y.SE,new Map),H.get(Y.SE).set(Y.E,B.SE2E),H.get(Y.SE).set(Y.NE,B.SE2NE),H.get(Y.SE).set(Y.NW,B.SE2NW),H.get(Y.SE).set(Y.W,B.SE2W),H.get(Y.SE).set(Y.SW,B.SE2SW),H.get(Y.SE).set(Y.SE,B.SE2SE);function z(e,t,n,a){var r=t[n],s=function(e,t){var n=e.getCellsFlat();A(n);var a,r=Object(d.a)(n);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(s.isTraversable()&&q(t,s)<=7)return s}}catch(i){r.e(i)}finally{r.f()}return t}(e,r),i=K(e,r,s,a),o=K(e,s,t[t.length-1],a);if(!i||!o)return{path:t,detourDestinationIndex:n,detourStartIndex:n};var l=t.slice(0,n);return l.push.apply(l,Object(T.a)(i)),o.shift(),l.push.apply(l,Object(T.a)(o)),{path:l,detourDestinationIndex:n+i.length-1,detourStartIndex:n}}function K(e,t,n,a){if(t.cospatial(n))return[n];var r=e.deepCopy([C.NOT_TRAVERSABLE]);r.getCell(t.getIY(),t.getIX()).setForcing(C.ENTRANCE),r.getCell(n.getIY(),n.getIX()).setForcing(C.EXIT);var s=P(r,{randomness:a});return null!=s?s[0]:[]}function q(e,t){var n=e.getIX()-t.getIX(),a=e.getIY()-t.getIY();return Math.sqrt(n*n+a*a)}var J,Z=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"generateDirectRoutePaths",value:function(e,t){return P(e,t)}},{key:"generateDrunkardPaths",value:function(e,t){return function(e,t){var n,a=void 0===t?y:t,r=D(e,L(a.numEntrances,y.numEntrances),L(a.numExits,y.numExits)),s=0,i=[],o=Object(d.a)(r);try{for(o.s();!(n=o.n()).done;){for(var l=n.value,c=l[0],u=l[1],h=c,f=[h];h!==u;){var E=F(e,h);if(null===E)throw new Error("Cant find a valid neighbor. Giving up.");h=E,f.push(h),O.GENERATOR_STATUS_INFO.fire("Iteration: ".concat(s++))}i.push(f)}}catch(b){o.e(b)}finally{o.f()}return i}(e,t)}},{key:"generateTheTravelingGnomePaths",value:function(e,t){return function(e,t){var n=void 0===t?W:t,a=L(n.numEntrances,W.numEntrances),r=L(n.numExits,W.numExits),s=L(n.wandering,W.wandering);if(s<0||s>1)throw new Error("Wandering must be between 0 and 1, but it was "+s);var i,o=D(e,a,r),l=[],c=Object(d.a)(o);try{for(c.s();!(i=c.n()).done;){var u=i.value,h=K(e,u[0],u[1],s);if(h&&h.length>0){for(var f=0===s?Number.MAX_SAFE_INTEGER:Math.max(Math.ceil(h.length/2*(1-s)),2),E=f;E<h.length-1;){var b=z(e,h,E,s),g=b.path.length-h.length;h=b.path,E=b.detourStartIndex+g+f}l.push(h)}}}catch(v){c.e(v)}finally{c.f()}return l}(e,t)}}]),e}(),Q=function(){function e(t,n){Object(l.a)(this,e),this.iY=void 0,this.iX=void 0,this.forcing=C.NONE,this.iY=t,this.iX=n}return Object(c.a)(e,[{key:"getIX",value:function(){return this.iX}},{key:"getIY",value:function(){return this.iY}},{key:"isTraversable",value:function(){return C.NOT_TRAVERSABLE!==this.forcing}},{key:"isEntrance",value:function(){return C.ENTRANCE===this.forcing}},{key:"isExit",value:function(){return C.EXIT===this.forcing}},{key:"getForcing",value:function(){return this.forcing}},{key:"setForcing",value:function(e){this.forcing=e}},{key:"deepCopy",value:function(t){var n=new e(this.iY,this.iX);return t&&t.includes(this.forcing)&&n.setForcing(this.forcing),n}},{key:"identical",value:function(e){return this.cospatial(e)&&this.forcing===e.forcing}},{key:"cospatial",value:function(e){return void 0!==e&&null!==e&&this.iY===e.iY&&this.iX===e.iX}},{key:"toString",value:function(){return"Cell(".concat(this.iY,", ").concat(this.iX,", ").concat(C[this.forcing],")")}}]),e}();J=Symbol.iterator;var $=function(){function e(t){Object(l.a)(this,e),this.cells=void 0,this.nColumnsOnEvenIndexRows=void 0,this.nColumnsOnOddIndexRows=void 0,this.nCells=void 0,this.cells=t;var n=0,a=0,r=Math.ceil(t.size/2),s=t.size-r;t.size>0&&(n=t.get(0).size),t.size>1&&(a=t.get(1).size),this.nColumnsOnEvenIndexRows=n,this.nColumnsOnOddIndexRows=a,this.nCells=n*r+a+s}return Object(c.a)(e,[{key:"getNeighbors",value:function(e){var t,n=[],a=Object(d.a)(V);try{for(a.s();!(t=a.n()).done;){var r=t.value,s=this.getNeighborTowardDirection(e,r);null!==s&&n.push(s)}}catch(i){a.e(i)}finally{a.f()}return n}},{key:"getNeighborTowardAngle",value:function(t,n){n%=2*Math.PI;var a=null,r=null,s=t.getIY()%2===0?-1:0;n<e.E_NBR_END?(a=t.getIX()+1,r=t.getIY()):n<e.NE_NBR_END?(a=t.getIX()+1+s,r=t.getIY()-1):n<e.NW_NBR_END?(a=t.getIX()+s,r=t.getIY()-1):n<e.W_NBR_END?(a=t.getIX()-1,r=t.getIY()):n<e.SW_NBR_END?(a=t.getIX()+s,r=t.getIY()+1):n<e.SE_NBR_END?(a=t.getIX()+1+s,r=t.getIY()+1):(a=t.getIX()+1,r=t.getIY());var i=null;return this.cells.has(r)&&this.cells.get(r).has(a)&&(i=this.cells.get(r).get(a)),i}},{key:"getNeighborTowardDirection",value:function(e,t){var n=null,a=null,r=e.getIY()%2===0?-1:0;switch(t){case Y.E:n=e.getIX()+1,a=e.getIY();break;case Y.NE:n=e.getIX()+1+r,a=e.getIY()-1;break;case Y.NW:n=e.getIX()+r,a=e.getIY()-1;break;case Y.W:n=e.getIX()-1,a=e.getIY();break;case Y.SW:n=e.getIX()+r,a=e.getIY()+1;break;case Y.SE:n=e.getIX()+1+r,a=e.getIY()+1}var s=null;return this.cells.has(a)&&this.cells.get(a).has(n)&&(s=this.cells.get(a).get(n)),s}},{key:"getMoveTowardOtherCell",value:function(t,n,a){var r,s;return r=null===t?this.findDirectionWithNoNeighbor(n,Y.E):e.directionBetween(n.getIY(),n.getIX(),t.getIY(),t.getIX()),s=null===a?this.findDirectionWithNoNeighbor(n,Y.W):e.directionBetween(n.getIY(),n.getIX(),a.getIY(),a.getIX()),H.get(r).get(s)}},{key:"findDirectionWithNoNeighbor",value:function(e,t){var n,a=Object(d.a)(V);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(null===this.getNeighborTowardDirection(e,r))return r}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"getBoundaryCells",value:function(){var e,t=[],n=Object(d.a)(this.cells.keys());try{for(n.s();!(e=n.n()).done;){var a=e.value,r=this.cells.get(a);if(0===a||a===this.cells.size-1){var s,i=Object(d.a)(r.keys());try{for(i.s();!(s=i.n()).done;){var o=s.value;t.push(r.get(o))}}catch(c){i.e(c)}finally{i.f()}}else{t.push(r.get(0));var l=a%2===0?this.nColumnsOnEvenIndexRows:this.nColumnsOnOddIndexRows;t.push(r.get(l-1))}}}catch(c){n.e(c)}finally{n.f()}return t}},{key:"getEntrances",value:function(){var e,t=[],n=Object(d.a)(this);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.isEntrance()&&t.push(a)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getExits",value:function(){var e,t=[],n=Object(d.a)(this);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.isExit()&&t.push(a)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getCell",value:function(e,t){var n;return null===(n=this.cells.get(e))||void 0===n?void 0:n.get(t)}},{key:"getCells",value:function(){return this.cells}},{key:"getCellsFlat",value:function(){return Object(T.a)(this)}},{key:"getCellCount",value:function(){return this.nCells}},{key:"getRowCount",value:function(){return this.cells.size}},{key:"getColumnCount",value:function(e){return e%2===0?this.nColumnsOnEvenIndexRows:this.nColumnsOnOddIndexRows}},{key:"getNumberOfColumnsOnEvenIndexRows",value:function(){return this.nColumnsOnEvenIndexRows}},{key:"getNumberOfColumnsOnOddIndexRows",value:function(){return this.nColumnsOnOddIndexRows}},{key:"deepCopy",value:function(t){var n,a=new Map,r=Object(d.a)(this.cells.keys());try{for(r.s();!(n=r.n()).done;){var s=n.value;a.set(s,new Map);var i,o=this.cells.get(s),l=Object(d.a)(o.keys());try{for(l.s();!(i=l.n()).done;){var c=i.value;a.get(s).set(c,o.get(c).deepCopy(t))}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return new e(a)}},{key:J,value:function(){return new ee(this.cells)}}],[{key:"ofNominalSize",value:function(t,n){for(var a=new Map,r=Math.floor(.5*n)+n%2,s=Math.floor(.5*n),i=0;i<t;i++){var o=i%2===0?r:s;a.set(i,new Map);for(var l=0;l<o;l++)a.get(i).set(l,new Q(i,l))}return new e(a)}},{key:"angleTowardOtherCell",value:function(t,n){return e.directionBetween(t.getIY(),t.getIX(),n.getIY(),n.getIX())}},{key:"angleBetween",value:function(e,t,n,a){var r=a-t+-.5*(e%2-n%2),s=e-n,i=Math.atan2(2*s,Math.sqrt(3)*r);return i<0?2*Math.PI+i:i}},{key:"directionBetween",value:function(t,n,a,r){var s=e.angleBetween(t,n,a,r);return s<e.E_NBR_END?Y.E:s<e.NE_NBR_END?Y.NE:s<e.NW_NBR_END?Y.NW:s<e.W_NBR_END?Y.W:s<e.SW_NBR_END?Y.SW:s<e.SE_NBR_END?Y.SE:Y.E}}]),e}();$.PI_OVER_SIX=Math.PI/6,$.E_NBR_END=$.PI_OVER_SIX,$.NE_NBR_END=3*$.PI_OVER_SIX,$.NW_NBR_END=5*$.PI_OVER_SIX,$.W_NBR_END=7*$.PI_OVER_SIX,$.SW_NBR_END=9*$.PI_OVER_SIX,$.SE_NBR_END=11*$.PI_OVER_SIX;var ee=function(){function e(t){Object(l.a)(this,e),this.cells=void 0,this.iY=0,this.iX=0,this.cells=t}return Object(c.a)(e,[{key:"next",value:function(e){var t=this.cells.get(this.iY);if(t.size===this.iX){if(this.iX=0,this.iY+=1,this.cells.size===this.iY)return{done:!0,value:void 0};t=this.cells.get(this.iY)}var n=t.get(this.iX);return this.iX+=1,{value:n,done:!1}}}]),e}();function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ae=r.createElement("path",{className:"cell-svg",d:"M 101.89307,88.635079 51.60447,117.66921 1.3158779,88.635079 1.3158789,30.566814 51.604471,1.5326825 101.89307,30.566815 Z",id:"hexagon",fill:"current",stroke:"current",strokeWidth:2.5,strokeMiterlimit:4});function re(e,t){var n=e.title,a=e.titleId,s=ne(e,["title","titleId"]);return r.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",id:"svg8",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",position:"absolute",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,ae)}var se=r.forwardRef(re);n.p;function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var le=r.createElement("path",{d:"m 90.384462,45.273084 c -0.1212,0.01534 -0.23952,0.04824 -0.35116,0.09785 0,0 -2.465822,1.091736 -5.484066,2.828192 -3.018243,1.736457 -6.611379,4.097675 -8.998585,6.850254 -1.193603,1.376293 -2.111759,2.870947 -2.385343,4.529241 -0.273585,1.658295 0.220386,3.446245 1.557741,4.935809 1.406734,1.566807 3.644805,2.921434 6.975652,4.095768 -0.703975,1.407757 -1.750591,2.650478 -3.098831,3.589322 -0.379516,0.266272 -0.183509,0.863049 0.279979,0.852438 L 96.33657,72.630275 c 0.437461,-0.0093 0.624793,-0.559771 0.283829,-0.833998 -4.481416,-3.627299 -8.918415,-7.219045 -13.572516,-10.986353 -0.07519,-0.06113 -0.167475,-0.09746 -0.264162,-0.103988 -0.327041,-0.02116 -0.574302,0.291216 -0.478635,0.604666 0.492643,1.624855 0.552249,3.299094 0.22962,4.878509 -3.073311,-1.097633 -4.980253,-2.262859 -5.951088,-3.344167 -0.925678,-1.031013 -1.113392,-1.878815 -0.95149,-2.860163 0.161902,-0.981348 0.795745,-2.131799 1.807624,-3.298554 2.023762,-2.333513 5.454611,-4.649253 8.356039,-6.318507 2.901431,-1.669252 5.251855,-2.711234 5.251855,-2.711234 0.630268,-0.280436 0.914204,-1.01844 0.634429,-1.649002 -0.223212,-0.504208 -0.75044,-0.802596 -1.297612,-0.734394 z",stroke:"none",fill:"current"});function ce(e,t){var n=e.title,a=e.titleId,s=oe(e,["title","titleId"]);return r.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,le)}var ue=r.forwardRef(ce);n.p;function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ee=r.createElement("path",{d:"m 72.915931,22.859137 c 0.0301,0.05512 0.0489,0.115688 0.0552,0.178175 0.57962,5.927829 1.197,12.233254 1.70058,17.379011 0.0486,0.463132 -0.53463,0.706192 -0.82927,0.345569 -1.09855,-1.321778 -2.48308,-2.302125 -4.00043,-2.900358 -1.1295,3.802103 -1.27963,6.934822 -0.78267,9.504933 0.87517,4.526074 3.72537,7.497308 7.3144,9.572136 7.17805,4.149657 17.08932,4.233128 17.08932,4.233128 0.44873,7.41e-4 0.86263,0.24195 1.08448,0.632004 0.10725,0.188569 0.16367,0.401767 0.1636,0.618707 -6.4e-4,0.690708 -0.56135,1.249984 -1.25206,1.248853 0,0 -10.32678,0.06221 -18.33644,-4.568214 -4.00483,-2.315204 -7.486258,-5.925787 -8.517889,-11.26103 -0.582277,-3.01133 -0.392452,-6.512187 0.807594,-10.593692 -1.561184,-0.186492 -3.173458,0.0038 -4.69817,0.61194 -0.433016,0.173816 -0.826466,-0.322791 -0.558185,-0.70458 l 9.963,-14.339147 c 0.1634,-0.235263 0.49775,-0.270227 0.70631,-0.07397 0.0362,0.03383 0.0667,0.07312 0.0906,0.116541 z",stroke:"none",fill:"current"});function be(e,t){var n=e.title,a=e.titleId,s=fe(e,["title","titleId"]);return r.createElement("svg",he({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Ee)}var ge=r.forwardRef(be);n.p;function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oe=r.createElement("path",{d:"m 29.751422,22.10428 c 0.12974,-0.211323 0.40167,-0.284977 0.62038,-0.168127 5.13547,2.739525 10.27091,5.47913 15.40632,8.218776 0.40511,0.218075 0.28649,0.828379 -0.17083,0.878785 -1.71355,0.182023 -3.30075,0.79384 -4.64252,1.729314 8.73752,10.240958 26.51009,25.882501 53.53681,25.740803 0.69073,-0.0038 1.25357,0.553421 1.25679,1.244143 0.003,0.689907 -0.55347,1.251802 -1.24337,1.255451 -27.90171,0.146296 -46.29628,-15.95616 -55.39012,-26.573919 -1.02516,1.19782 -1.76386,2.647623 -2.1038,4.257788 -0.0958,0.455182 -0.7245,0.508043 -0.89494,0.07524 l -6.41247,-16.241472 c -0.0423,-0.108399 -0.0429,-0.228655 -10e-4,-0.337409 0.0105,-0.02764 0.0237,-0.05422 0.0393,-0.07941 z",stroke:"none",fill:"current"});function pe(e,t){var n=e.title,a=e.titleId,s=ve(e,["title","titleId"]);return r.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Oe)}var Ne=r.forwardRef(pe);n.p;function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Se=r.createElement("path",{transform:"scale(0.26458334)",d:"m 90.294922,200.24805 a 1.7718307,1.7718307 0 0 0 -0.597656,0.11133 l -61.941407,22.78124 a 1.7718307,1.7718307 0 0 0 0,3.32032 l 61.941407,22.78125 A 1.7718307,1.7718307 0 0 0 91.75,246.54688 C 88.021746,241.3523 85.769048,235.45799 84.990234,229.43555 H 348.7207 a 4.7244094,4.7244094 0 0 0 4.72461,-4.72266 4.7244094,4.7244094 0 0 0 -4.72461,-4.72461 H 84.980469 c 0.766559,-6.00203 3.010846,-11.83327 6.753906,-16.91992 a 1.7718307,1.7718307 0 0 0 -1.439453,-2.82031 z",stroke:"none",fill:"current"});function ye(e,t){var n=e.title,a=e.titleId,s=me(e,["title","titleId"]);return r.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Se)}var We=r.forwardRef(ye);n.p;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var xe=r.createElement("path",{d:"m 29.749279,96.571986 c 0.129742,0.211321 0.401668,0.284976 0.620379,0.168125 5.135475,-2.739524 10.270908,-5.479128 15.406317,-8.218776 0.405118,-0.218075 0.286496,-0.828379 -0.170823,-0.878783 -1.713548,-0.182022 -3.300748,-0.79384 -4.642518,-1.729315 8.73752,-10.240958 26.510087,-25.882501 53.536803,-25.740803 0.69073,0.0038 1.25357,-0.553421 1.25679,-1.244143 0.003,-0.689907 -0.55347,-1.251802 -1.24337,-1.255451 -27.901708,-0.146296 -46.296281,15.95616 -55.39012,26.57392 -1.025153,-1.197821 -1.763862,-2.647624 -2.103793,-4.257789 -0.09578,-0.455182 -0.724503,-0.508043 -0.894942,-0.07524 l -6.412473,16.241472 c -0.04235,0.1084 -0.0429,0.228655 -0.0015,0.33741 0.01053,0.02764 0.02368,0.05422 0.03926,0.07941 z",stroke:"none",fill:"current"});function ke(e,t){var n=e.title,a=e.titleId,s=Ie(e,["title","titleId"]);return r.createElement("svg",we({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,xe)}var _e=r.forwardRef(ke);n.p;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Te=r.createElement("path",{d:"m 72.917893,95.890596 c 0.0301,-0.05512 0.0489,-0.115688 0.0552,-0.178175 0.57962,-5.927829 1.197,-12.233254 1.70058,-17.379011 0.0486,-0.463132 -0.53463,-0.706192 -0.82927,-0.345569 -1.09855,1.321778 -2.48308,2.302125 -4.00043,2.900358 -1.1295,-3.802103 -1.27963,-6.934822 -0.78267,-9.504933 0.87517,-4.526075 3.72537,-7.497309 7.3144,-9.572137 7.17805,-4.149656 17.08932,-4.233127 17.08932,-4.233127 0.44874,-7.93e-4 0.86263,-0.241951 1.08448,-0.632005 0.10725,-0.188568 0.16368,-0.401767 0.1636,-0.618707 -5.3e-4,-0.690708 -0.56135,-1.249984 -1.25205,-1.248851 0,0 -10.32679,-0.06221 -18.33645,4.568213 -4.00483,2.315202 -7.48625,5.925786 -8.51788,11.26103 -0.58228,3.01133 -0.39246,6.512187 0.80759,10.593692 -1.56119,0.186492 -3.17346,-0.0038 -4.69817,-0.61194 -0.43302,-0.173816 -0.82647,0.322791 -0.55819,0.70458 l 9.963,14.339147 c 0.1634,0.235263 0.49775,0.270227 0.70631,0.07397 0.0362,-0.03383 0.0667,-0.07312 0.0906,-0.116541 z",stroke:"none",fill:"current"});function Ae(e,t){var n=e.title,a=e.titleId,s=Re(e,["title","titleId"]);return r.createElement("svg",Ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Te)}var Me=r.forwardRef(Ae);n.p;function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Be=r.createElement("path",{d:"m 55.310989,59.618382 a 0.46879688,0.46879688 0 0 0 0.233646,0.189713 l 16.390761,6.026138 a 0.46879688,0.46879688 0 0 0 0.541265,-0.714084 c -0.986453,-1.374423 -1.581993,-2.934114 -1.787965,-4.527247 l 24.022987,2.05e-4 a 1.25,1.25 0 0 0 1.250232,-1.249311 1.25,1.25 0 0 0 -1.250534,-1.251319 l -24.025035,3.81e-4 c 0.203058,-1.587239 0.797227,-3.12943 1.787299,-4.474903 a 0.46879688,0.46879688 0 0 0 -0.540326,-0.716767 l -16.387347,6.026589 a 0.46879688,0.46879688 0 0 0 -0.24971,0.665098 0.46879688,0.46879688 0 0 0 0.01472,0.0255 z",stroke:"none",fill:"current"});function Xe(e,t){var n=e.title,a=e.titleId,s=De(e,["title","titleId"]);return r.createElement("svg",Le({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Be)}var Pe=r.forwardRef(Xe);n.p;function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ye=r.createElement("path",{d:"M 95.889655,59.116536 A 0.46879688,0.46879688 0 0 0 95.656009,58.926823 L 79.265248,52.900685 a 0.46879688,0.46879688 0 0 0 -0.541265,0.714084 c 0.986453,1.374423 1.581993,2.934114 1.787965,4.527247 l -24.022987,-2.05e-4 a 1.25,1.25 0 0 0 -1.250232,1.249311 1.25,1.25 0 0 0 1.250534,1.251319 l 24.025035,-3.81e-4 c -0.203058,1.587239 -0.797227,3.12943 -1.787299,4.474903 a 0.46879688,0.46879688 0 0 0 0.540326,0.716767 l 16.387347,-6.026589 a 0.46879688,0.46879688 0 0 0 0.24971,-0.665098 0.46879688,0.46879688 0 0 0 -0.01472,-0.0255 z",stroke:"none",fill:"current"});function Ve(e,t){var n=e.title,a=e.titleId,s=Ge(e,["title","titleId"]);return r.createElement("svg",Ue({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 103.22301 119.19167",height:"100%",width:"100%",style:{position:"absolute"},ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Ye)}var He=r.forwardRef(Ve),Fe=(n.p,n(12),n(14)),ze=n.n(Fe)()({colormap:"cool",nshades:1e3,format:"hex"});var Ke=180/Math.PI,qe=Math.PI/3,Je=-1*Math.round(qe*Ke),Ze={};Ze[Y.E]=0,Ze[Y.NE]=Je,Ze[Y.NW]=2*Je,Ze[Y.W]=3*Je,Ze[Y.SW]=4*Je,Ze[Y.SE]=5*Je;var Qe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).getMoves=a.getMoves.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"getMoves",value:function(){var e,t,n=[],r=Object(d.a)(this.props.configs);try{for(r.s();!(e=r.n()).done;){var s=e.value,i=s.move,o=(t=s.step/s.pathLength,ze[Math.floor(1e3*t)]),l="".concat(B[i],"-").concat(s.step,"-").concat(s.pathLength,"-").concat(Math.trunc(1e3*Math.random()));switch(i){case B.E2E:n.push(Object(a.jsx)(ue,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E2NE:n.push(Object(a.jsx)(ge,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E2NW:n.push(Object(a.jsx)(Ne,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E2W:n.push(Object(a.jsx)(We,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E2SW:n.push(Object(a.jsx)(_e,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E2SE:n.push(Object(a.jsx)(Me,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E_IN:n.push(Object(a.jsx)(Pe,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.E_OUT:n.push(Object(a.jsx)(He,{fill:o,transform:"rotate(".concat(Ze[Y.E],")")},l));break;case B.NE2E:n.push(Object(a.jsx)(Me,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE2NE:n.push(Object(a.jsx)(ue,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE2NW:n.push(Object(a.jsx)(ge,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE2W:n.push(Object(a.jsx)(Ne,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE2SW:n.push(Object(a.jsx)(We,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE2SE:n.push(Object(a.jsx)(_e,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE_IN:n.push(Object(a.jsx)(Pe,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NE_OUT:n.push(Object(a.jsx)(He,{fill:o,transform:"rotate(".concat(Ze[Y.NE],")")},l));break;case B.NW2E:n.push(Object(a.jsx)(_e,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW2NE:n.push(Object(a.jsx)(Me,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW2NW:n.push(Object(a.jsx)(ue,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW2W:n.push(Object(a.jsx)(ge,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW2SW:n.push(Object(a.jsx)(Ne,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW2SE:n.push(Object(a.jsx)(We,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW_IN:n.push(Object(a.jsx)(Pe,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.NW_OUT:n.push(Object(a.jsx)(He,{fill:o,transform:"rotate(".concat(Ze[Y.NW],")")},l));break;case B.W2E:n.push(Object(a.jsx)(We,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W2NE:n.push(Object(a.jsx)(_e,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W2NW:n.push(Object(a.jsx)(Me,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W2W:n.push(Object(a.jsx)(ue,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W2SW:n.push(Object(a.jsx)(ge,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W2SE:n.push(Object(a.jsx)(Ne,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W_IN:n.push(Object(a.jsx)(Pe,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.W_OUT:n.push(Object(a.jsx)(He,{fill:o,transform:"rotate(".concat(Ze[Y.W],")")},l));break;case B.SW2E:n.push(Object(a.jsx)(Ne,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW2NE:n.push(Object(a.jsx)(We,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW2NW:n.push(Object(a.jsx)(_e,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW2W:n.push(Object(a.jsx)(Me,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW2SW:n.push(Object(a.jsx)(ue,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW2SE:n.push(Object(a.jsx)(ge,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW_IN:n.push(Object(a.jsx)(Pe,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SW_OUT:n.push(Object(a.jsx)(He,{fill:o,transform:"rotate(".concat(Ze[Y.SW],")")},l));break;case B.SE2E:n.push(Object(a.jsx)(ge,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE2NE:n.push(Object(a.jsx)(Ne,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE2NW:n.push(Object(a.jsx)(We,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE2W:n.push(Object(a.jsx)(_e,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE2SW:n.push(Object(a.jsx)(Me,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE2SE:n.push(Object(a.jsx)(ue,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE_IN:n.push(Object(a.jsx)(Pe,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l));break;case B.SE_OUT:n.push(Object(a.jsx)(He,{fill:o,transform:"rotate(".concat(Ze[Y.SE],")")},l))}}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"no-interactions",children:this.getMoves()})}}]),n}(s.a.Component),$e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={forcing:C.NONE,moves:[],showLabel:a.props.showLabel},a.toggleForcing=a.toggleForcing.bind(Object(f.a)(a)),a.sweepForcing=a.sweepForcing.bind(Object(f.a)(a)),a.getLabel=a.getLabel.bind(Object(f.a)(a)),a.setShowLabel=a.setShowLabel.bind(Object(f.a)(a)),a.setMoves=a.setMoves.bind(Object(f.a)(a)),a.clearMoves=a.clearMoves.bind(Object(f.a)(a)),a.addMove=a.addMove.bind(Object(f.a)(a)),a.reset=a.reset.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){O.SHOW_LABELS_CHECKBOX_CHANGE.subscribe(this.setShowLabel),O.CLEAR_ROUTES_BUTTON.subscribe(this.clearMoves),O.RESET_GRID_BUTTON.subscribe(this.reset)}},{key:"componentWillUnmount",value:function(){O.SHOW_LABELS_CHECKBOX_CHANGE.unsubscribe(this.setShowLabel),O.CLEAR_ROUTES_BUTTON.unsubscribe(this.clearMoves),O.RESET_GRID_BUTTON.unsubscribe(this.reset)}},{key:"setShowLabel",value:function(e){this.setState({showLabel:e})}},{key:"setMoves",value:function(e){this.setState({moves:e})}},{key:"clearMoves",value:function(){this.state.moves.length=0,this.setState({moves:[]})}},{key:"reset",value:function(){this.setState({moves:[],forcing:C.NONE})}},{key:"addMove",value:function(e){this.state.moves.push(e),this.setState({moves:this.state.moves})}},{key:"sweepForcing",value:function(e){1===e.buttons&&this.setState({forcing:n.paintModeToggle})}},{key:"toggleForcing",value:function(){var e=this.state.forcing;e=C.NONE===e?n.selectedPaintMode:C.NONE,this.setState({forcing:e})}},{key:"getForcing",value:function(){return this.state.forcing}},{key:"getLabel",value:function(){return this.state.showLabel?Object(a.jsx)("label",{className:"cell-label no-interactions",style:{fontSize:"".concat(this.props.size/7,"em")},children:"(".concat(this.props.row,", ").concat(this.props.column,")")}):null}},{key:"getColors",value:function(){if(null!==this.state.moves&&this.state.moves.length>0)return"cell-svg-route";switch(this.state.forcing){case C.NOT_TRAVERSABLE:return"cell-svg-not-traversable";case C.ENTRANCE:return"cell-svg-entrance";case C.EXIT:return"cell-svg-exit";default:return"cell-svg-base"}}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"cell-container",style:{top:"".concat(this.props.y,"%"),left:"".concat(this.props.x,"%"),width:"".concat(this.props.size,"%")},children:[this.getLabel(),Object(a.jsx)(Qe,{configs:this.state.moves}),Object(a.jsx)(se,{className:this.getColors(),onMouseEnter:this.sweepForcing,onMouseDown:function(){e.toggleForcing(),n.paintModeToggle=n.paintModeToggle===n.selectedPaintMode?C.NONE:n.selectedPaintMode}})]})}}],[{key:"updatePaintMode",value:function(e){switch(e){case"Make Impassable":n.selectedPaintMode=C.NOT_TRAVERSABLE;break;case"Force Entrance":n.selectedPaintMode=C.ENTRANCE;break;case"Force Exit":n.selectedPaintMode=C.EXIT;break;default:n.selectedPaintMode=C.NONE,console.warn("Unrecognized paint mode ".concat(e,". Resetting to None"))}}}]),n}(s.a.Component);$e.paintModeToggle=C.NONE,$e.selectedPaintMode=C.NONE,O.PAINT_MODE_SELECT.subscribe($e.updatePaintMode);n(28);var et=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).displayCellRefs=void 0,a.cellShowLabelStart=!1,a.animateRoutes=!1,a.selectedAlgorithm=E,a.activePaths=[],a.state={columns:35,rows:8},a.updateRows=a.updateRows.bind(Object(f.a)(a)),a.updateColumns=a.updateColumns.bind(Object(f.a)(a)),a.setCellShowLabelStart=a.setCellShowLabelStart.bind(Object(f.a)(a)),a.setSelectedAlgorithm=a.setSelectedAlgorithm.bind(Object(f.a)(a)),a.generateRoutes=a.generateRoutes.bind(Object(f.a)(a)),a.updateDoAnimateRoutes=a.updateDoAnimateRoutes.bind(Object(f.a)(a)),a.downloadGrid=a.downloadGrid.bind(Object(f.a)(a)),a.displayCellRefs=new Map;for(var r=0;r<100;r++){a.displayCellRefs.set(r,new Map);for(var i=0;i<100;i++)a.displayCellRefs.get(r).set(i,s.a.createRef())}return a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){O.COLUMNS_SLIDER_VALUE_CHANGE.subscribe(this.updateColumns),O.ROWS_SLIDER_VALUE_CHANGE.subscribe(this.updateRows),O.SHOW_LABELS_CHECKBOX_CHANGE.subscribe(this.setCellShowLabelStart),O.GENERATOR_ALGORITHM_SELECT.subscribe(this.setSelectedAlgorithm),O.GENERATE_BUTTON.subscribe(this.generateRoutes),O.ANIMATE_ROUTES_CHECKBOX_CHANGE.subscribe(this.updateDoAnimateRoutes),O.DOWNLOAD_GRID_BUTTON.subscribe(this.downloadGrid)}},{key:"componentWillUnmount",value:function(){O.COLUMNS_SLIDER_VALUE_CHANGE.unsubscribe(this.updateColumns),O.ROWS_SLIDER_VALUE_CHANGE.unsubscribe(this.updateRows),O.SHOW_LABELS_CHECKBOX_CHANGE.unsubscribe(this.setCellShowLabelStart),O.GENERATOR_ALGORITHM_SELECT.unsubscribe(this.setSelectedAlgorithm),O.GENERATE_BUTTON.unsubscribe(this.generateRoutes),O.ANIMATE_ROUTES_CHECKBOX_CHANGE.unsubscribe(this.generateRoutes),O.DOWNLOAD_GRID_BUTTON.unsubscribe(this.downloadGrid)}},{key:"updateRows",value:function(e){this.setState({rows:e})}},{key:"updateColumns",value:function(e){this.setState({columns:e})}},{key:"setCellShowLabelStart",value:function(e){this.cellShowLabelStart=e}},{key:"setSelectedAlgorithm",value:function(e){this.selectedAlgorithm=e}},{key:"updateDoAnimateRoutes",value:function(e){this.animateRoutes=e}},{key:"downloadGrid",value:function(){var e,t=$.ofNominalSize(this.state.rows,this.state.columns),n={nColumnsOnEvenIndexRows:t.getNumberOfColumnsOnEvenIndexRows(),nColumnsOnOddIndexRows:t.getNumberOfColumnsOnOddIndexRows(),cells:{}},a=Object(d.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value,s=r.getIY(),i=r.getIX();n.cells.hasOwnProperty(s)||(n.cells[s]={});var o=this.displayCellRefs.get(s).get(i).current;n.cells[s][i]=o.getForcing()}}catch(j){a.e(j)}finally{a.f()}var l,c={NONE:C.NONE,ENTRANCE:C.ENTRANCE,EXIT:C.EXIT,NOT_TRAVERSABLE:C.NOT_TRAVERSABLE},u=[],h=Object(d.a)(this.activePaths);try{for(h.s();!(l=h.n()).done;){var f,E=l.value,b=[],g=Object(d.a)(E);try{for(g.s();!(f=g.n()).done;){var v=f.value;b.push([v.getIY(),v.getIX()])}}catch(j){g.e(j)}finally{g.f()}u.push(b)}}catch(j){h.e(j)}finally{h.f()}var O=null;switch(this.selectedAlgorithm){case"Drunkard":O=k.ref.current.getConfig();break;case"Direct":O=x.ref.current.getConfig();break;case"The Traveling Gnome":O=_.ref.current.getConfig()}var p={forcings:c,grid:n,paths:u,settings:{algorithm:this.selectedAlgorithm,algorithmSettings:O}},N=document.createElement("a");N.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(p,void 0,2))),N.setAttribute("download","grid.json"),N.style.display="none",document.body.appendChild(N),N.click(),document.body.removeChild(N)}},{key:"generateRoutes",value:function(){var e,t=$.ofNominalSize(this.state.rows,this.state.columns),n=Object(d.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=a.getIY(),s=a.getIX(),i=this.displayCellRefs.get(r).get(s).current;i.clearMoves(),a.setForcing(i.getForcing())}}catch(p){n.e(p)}finally{n.f()}var o=[];switch(this.selectedAlgorithm){case"Drunkard":o=Z.generateDrunkardPaths(t,k.ref.current.getConfig());break;case"Direct":o=Z.generateDirectRoutePaths(t,x.ref.current.getConfig());break;case"The Traveling Gnome":o=Z.generateTheTravelingGnomePaths(t,_.ref.current.getConfig())}this.activePaths=o;var l,c=this.animateRoutes?250:0,u=0,h=Object(d.a)(o);try{for(h.s();!(l=h.n()).done;){var f=l.value;if(0!==f.length){var E=this.getDisplayCellFromAnalysisCell(f[0]),b=t.getMoveTowardOtherCell(null,f[0],f[1]),g={move:b,step:0,pathLength:f.length};setTimeout(E.addMove,u,g),u+=c;for(var v=1;v<f.length-1;v++)null!==(E=this.getDisplayCellFromAnalysisCell(f[v]))&&(g={move:b=t.getMoveTowardOtherCell(f[v-1],f[v],f[v+1]),step:v,pathLength:f.length},setTimeout(E.addMove,u,g),u+=c);var O=f.length-1;E=this.getDisplayCellFromAnalysisCell(f[O]),g={move:b=t.getMoveTowardOtherCell(f[O-1],f[O],null),step:f.length-1,pathLength:f.length},setTimeout(E.addMove,u,g),u+=c}}}catch(p){h.e(p)}finally{h.f()}}},{key:"getDisplayCellFromAnalysisCell",value:function(e){return this.displayCellRefs.get(e.getIY()).get(e.getIX()).current}},{key:"createDisplayGrid",value:function(e,t){var n,a=$.ofNominalSize(e,t),r=[],s=Object(d.a)(a);try{for(s.s();!(n=s.n()).done;){var i=n.value,o=i.getIY(),l=i.getIX(),c=this.displayCellRefs.get(o).get(l),u=this.createDisplayCell(i,c);r.push(u)}}catch(h){s.e(h)}finally{s.f()}return r}},{key:"createDisplayCell",value:function(e,t){var n=this.state.columns,r=this.state.rows,s=e.getIY(),i=e.getIX(),o=1/(.5*n+.5)*100,l=(i+(s%2===1?.5:0))*o,c=s*(Math.sqrt(3)/2/r*100+12/(r+10));return Object(a.jsx)($e,{x:l,y:c,row:s,column:i,size:o,ref:t,showLabel:this.cellShowLabelStart},"(".concat(s,",").concat(i,")"))}},{key:"render",value:function(){var e=this.state.columns,t=this.state.rows,n=.5*e+.5,r=Math.sqrt(1/12)*((3*t+1)/n);return Object(a.jsx)("div",{className:"grid-section",children:Object(a.jsx)("div",{className:"grid-container",style:{height:"calc(95vw*".concat(r,")")},children:this.createDisplayGrid(t,e)})})}}]),n}(s.a.Component),tt=(n(29),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(R,{}),Object(a.jsx)(et,{})]})}}]),n}(s.a.Component)),nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(tt,{})}),document.getElementById("root")),nt()}],[[30,1,2]]]);
//# sourceMappingURL=main.31cc4f68.chunk.js.map